{{/*  <div class="container">
  <div class="ml-4 border-l-2 pl-4 mb-6">
    <h2 class="text-xl font-semibold mb-2">{{ .title }}</h2>
    <ul class="list-disc pl-5 space-y-1">
      {{ range .pages }}
        <li>
          <a
            href="{{ .path }}"
            class="text-text-dark dark:text-white hover:text-gray-400 hover:underline transition">
            {{ .title }}
          </a>
        </li>
      {{ end }}
      {{ range .sections }}
        {{ partial "docs/section-item.html" . }}
      {{ end }}
    </ul>
  </div>
</div>  */}}
{{ $node := .node }}
{{ $all := .all }}
{{ $level := $node.Params.docmeta.level }}
{{ $indent := mul $level 4 }}

<div class="ml-{{ $indent }} py-1">
  <a href="{{ $node.RelPermalink }}" class="block text-blue-600 hover:underline">
    {{ with $node.Params.docmeta.title }}{{ . }}{{ else }}{{ $node.Title }}{{ end }}
  </a>
</div>

{{/* 递归查找子节点 */}}
{{ $childLevel := add $level 1 }}
{{ $children := where $all "Params.docmeta.level" $childLevel }}

{{ range $children }}
  {{ if strings.HasPrefix .Params.docmeta.path $node.Params.docmeta.path }}
    {{ partial "docs/section-item.html" (dict "node" . "all" $all) }}
  {{ end }}
{{ end }}